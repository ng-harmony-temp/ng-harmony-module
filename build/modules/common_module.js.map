{"version":3,"sources":["../index.js"],"names":[],"mappings":"AAAI,OAAO,OAAP,MAAoB,SAApB;AACA,OAAO,MAAP,MAAmB,mBAAnB;;AAEA,OAAO,MAAM,MAAN,CAAa;AAChB,gBAAY,IAAZ,EAAkB,YAAlB,EAAgC,MAAhC,EAAwC;AACpC,aAAK,IAAL,GAAY,IAAZ,CADoC;AAEpC,aAAK,YAAL,GAAoB,gBAAgB,EAAhB,CAFgB;AAGpC,aAAK,YAAL,CAAkB,IAAlB,CAAuB,WAAvB,EAHoC;AAIpC,gBAAQ,MAAR,CAAe,IAAf,EAAqB,YAArB,EAJoC;AAKpC,YAAI,OAAO,MAAP,KAAkB,WAAlB,IAAiC,WAAW,IAAX,EAAiB;AACrD,iBAAK,OAAL,CAAa,MAAb,EADqD;SAAtD;KALJ;AASA,QAAI,MAAJ,GAAa;AACT,eAAO,QAAQ,MAAR,CAAe,KAAK,IAAL,CAAtB,CADS;KAAb;AAGA,gBAAY;AACR,gBAAQ,OAAR,CAAgB,QAAhB,EAA0B,KAA1B,CAAgC,MAAM;AAClC,uBAAW,MAAM;AACb,wBAAQ,SAAR,CAAkB,QAAlB,EAA4B,CAAC,KAAK,IAAL,CAA7B,EADa;aAAN,EAER,IAFH,EADkC;SAAN,CAAhC,CADQ;KAAZ;AAOA,YAAQ,MAAR,EAAgB;AACZ,aAAK,MAAL,GAAc,MAAd,CADY;AAEZ,aAAK,MAAL,CAAY,MAAZ,CAAmB,CAAC,cAAD,EAAiB,kBAAjB,KAAwC;AACvD,gBAAI,OAAO,OAAO,OAAP,KAAmB,WAA1B,IAAyC,OAAO,OAAP,KAAmB,IAAnB,EAAyB;AAClE,mCAAmB,SAAnB,CAA6B,OAAO,OAAP,CAA7B,CADkE;aAAtE;AAGA,iBAAK,IAAI,CAAC,CAAD,EAAI,KAAJ,CAAJ,IAAkB,OAAO,IAAP,CAAY,MAAZ,EAAoB,OAApB,EAAvB,EAAsD;AAClD,oBAAI,UAAU,EAAV;oBACA,QAAQ,OAAO,KAAP,CAAR,CAF8C;AAGlD,oBAAI,OAAO,MAAM,OAAN,KAAkB,WAAzB,IAAwC,MAAM,OAAN,KAAkB,IAAlB,EAAwB;AAChE,yBAAK,IAAI,CAAC,CAAD,EAAI,UAAJ,CAAJ,IAAuB,OAAO,IAAP,CAAY,MAAM,OAAN,CAAZ,CAA2B,OAA3B,EAA5B,EAAkE;AAC9D,gCAAQ,UAAR,IAAsB,CAAC,cAAD,EAAiB,CAAC,eAAiB;AACrD,mCAAO,WAAa;AAChB,uCAAO,QAAQ,MAAM,OAAN,CAAc,WAAd,CAAR,CAAP,CADgB;6BAAb,CAD8C;yBAAjB,CAAD,CAIpC,UAJoC,CAAjB,CAAtB,CAD8D;qBAAlE;iBADJ;AASA,oBAAI,SAAS,KAAT,CAZ8C;AAalD,uBAAO,OAAP,GAAiB,OAAjB,CAbkD;AAclD,+BAAe,KAAf,CAAqB,KAArB,EAA4B,MAA5B,EAdkD;aAAtD;SAJe,CAAnB,CAFY;KAAhB;AAwBA,WAAO,GAAP,EAAY;AACR,YAAI,OAAO,KAAK,MAAL,KAAgB,YAAvB,IAAuC,KAAK,MAAL,KAAgB,IAAhB,EAAsB;AAC7D,kBAAM,kCAAN,CAD6D;SAAjE;AAGA,aAAK,MAAL,CAAY,MAAZ,CAAmB,GAAnB,EAJQ;KAAZ;CA5CG","file":"common_module.js","sourcesContent":["    import angular from \"angular\";\n    import router from \"angular-ui-router\";\n\n    export class Module {\n        constructor(name, dependencies, routes) {\n            this.name = name;\n            this.dependencies = dependencies || [];\n            this.dependencies.push(\"ui.router\");\n            angular.module(name, dependencies);\n            if (typeof routes !== \"undefined\" && routes !== null) {\n            \tthis.routing(routes);\n            }\n        }\n        get module() {\n            return angular.module(this.name);\n        }\n        bootstrap() {\n            angular.element(document).ready(() => {\n                setTimeout(() => {\n                    angular.bootstrap(document, [this.name]);\n                }, 1000); \n            });\n        }\n        routing(routes) {\n            this.routes = routes;\n            this.module.config(($stateProvider, $urlRouterProvider) => {\n                if (typeof routes.default !== \"undefined\" && routes.default !== null) {\n                    $urlRouterProvider.otherwise(routes.default);\n                }\n                for (let [i, route] of Object.keys(routes).entries()) {\n                    let resolve = {},\n                        state = routes[route];\n                    if (typeof state.resolve !== \"undefined\" && state.resolve !== null) {\n                        for (let [j, stateParam] of Object.keys(state.resolve).entries()) {\n                            resolve[stateParam] = [\"$stateParams\", ((_stateParam) => {\n                                return ($params) => {\n                                    return $params[state.resolve[_stateParam]];\n                                }\n                            })(stateParam)];\n                        }\n                    }\n                    let config = state;\n                    config.resolve = resolve;\n                    $stateProvider.state(route, config);\n                }\n            });\n        }\n        config(foo) {\n            if (typeof this.module === \"undefinded\" || this.module === null) {\n                throw \"Cannot access module: undefined!\";\n            }\n            this.module.config(foo);\n        }\n    }"]}